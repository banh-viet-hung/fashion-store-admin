import{o as P,r as w,S as B,u as F,i as E,j as l,f as u,L as b}from"./index-PLDaagTA.js";import{f as T}from"./Layout-XD39IB8x.js";import{s as $}from"./spinner-CkndCogW.js";import{A as O}from"./AdminServices-DOFZR09-.js";import{P as j,C as p,a as R,A as g}from"./ProductServices-Cz4MygcK.js";import{C as S}from"./CouponServices-0CD9yxjP.js";import{u as H}from"./DrawerButton-DwQOXQlS.js";import{C}from"./CurrencyServices-BlJ4lGlV.js";import{a as r,n as d}from"./toast-DhrUUM-V.js";import{u as U}from"./useDisableForDemo-DjtHBIR8.js";const X=({id:i,ids:n,setIsCheck:m,category:h,title:v,useParamId:M})=>{const{isModalOpen:N,closeModal:s,setIsUpdate:a}=w.useContext(B),{setServiceId:o}=H(),c=F(),[D,t]=w.useState(!1),{handleDisableForDemo:A}=U(),L=async()=>{var x,y;if(!A())try{if(t(!0),c.pathname==="/products")if(n){const e=await j.deleteManyProducts({ids:n});a(!0),r(e.message),m([]),o(),s(),t(!1)}else{const e=await j.deleteProduct(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/coupons")if(n){const e=await S.deleteManyCoupons({ids:n});a(!0),r(e.message),m([]),o(),s(),t(!1)}else{const e=await S.deleteCoupon(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/categories"||h)if(n){console.log("delete modal categorices",n);const e=await p.deleteManyCategory({ids:n});a(!0),r(e.message),m([]),o(),s(),t(!1)}else{if(i===void 0||!i)return d("Please select a category first!"),t(!1),s();const e=await p.deleteCategory(i);a(!0),r(e.message),s(),o(),t(!1)}else if(c.pathname===`/categories/${M}`||h){if(i===void 0||!i)return d("Please select a category first!"),t(!1),s();const e=await p.deleteCategory(i);a(!0),r(e.message),s(),o(),t(!1)}if(c.pathname==="/customers"){const e=await R.deleteCustomer(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/attributes")if(n){const e=await g.deleteManyAttribute({ids:n});a(!0),r(e.message),m([]),o(),s(),t(!1)}else{const e=await g.deleteAttribute(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname===`/attributes/${c.pathname.split("/")[2]}`)if(n){const e=await g.deleteManyChildAttribute({id:c.pathname.split("/")[2],ids:n});a(!0),r(e.message),o(),m([]),s(),t(!1)}else{const e=await g.deleteChildAttribute({id:i,ids:c.pathname.split("/")[2]});a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/our-staff"){const e=await O.deleteStaff(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/languages")if(n){const e=await b.deleteManyLanguage({ids:n});a(!0),r(e.message),m([]),s(),t(!1)}else{const e=await b.deleteLanguage(i);a(!0),r(e.message),o(),s(),t(!1)}if(c.pathname==="/currencies")if(n){const e=await C.deleteManyCurrency({ids:n});a(!0),r(e.message),m([]),s(),t(!1)}else{const e=await C.deleteCurrency(i);a(!0),r(e.message),o(),s(),t(!1)}}catch(e){d(e?(y=(x=e==null?void 0:e.response)==null?void 0:x.data)==null?void 0:y.message:e==null?void 0:e.message),o(),m([]),s(),t(!1)}},{t:f}=E();return l.jsx(l.Fragment,{children:l.jsxs(u.Modal,{isOpen:N,onClose:s,children:[l.jsxs(u.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[l.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:l.jsx(T,{})}),l.jsxs("h2",{className:"text-xl font-medium mb-2",children:[f("Bạn muốn xóa")," ",l.jsx("span",{className:"text-red-500",children:v}),"?"]})]}),l.jsxs(u.ModalFooter,{className:"justify-center",children:[l.jsx(u.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:s,children:f("Hủy thao tác")}),l.jsx("div",{className:"flex justify-end",children:D?l.jsxs(u.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[l.jsx("img",{src:$,alt:"Loading",width:20,height:10})," ",l.jsx("span",{className:"font-serif ml-2 font-light",children:f("Processing")})]}):l.jsx(u.Button,{onClick:L,className:"w-full h-12 sm:w-auto",children:f("Xác nhận xóa")})})]})]})})},_=P.memo(X);export{_ as D};
