import{j as e,i as A,f as l,k as R,r as f,S as I}from"./index-PLDaagTA.js";import{l as U,u as V,e as L,f as q,g as O}from"./Layout-XD39IB8x.js";import{T as H}from"./Tooltip-DmGlEDOP.js";import{T as w,D as z,u as v,M as y}from"./DrawerButton-DwQOXQlS.js";import{D as C}from"./DeleteModal-BuBHmZHf.js";import{C as D,E as K}from"./EditDeleteButton-jztksUNk.js";import{S as Q}from"./ShowHideButton-UWQwP7b2.js";import{E as N}from"./index.esm-CS4zo5jb.js";import{L as h}from"./LabelArea-DC4hSjvs.js";import{I as T}from"./InputArea-iBDtlSiU.js";import{u as X}from"./useAttributeSubmit-fX7JF5b_.js";import"./exportFromJSON-fDIoOtpr.js";import{B as $}from"./BulkActionDrawer-B5uwEcKc.js";import{T as G}from"./TableLoading-BIzq2BWk.js";import{N as J}from"./NotFound-Z5WVCT-B.js";import{P as W}from"./PageTitle-DoOTr-E6.js";import{u as Y}from"./useAsync-frAQ4t-E.js";import{u as Z}from"./useFilter-BFXugzkf.js";import{A as ee}from"./ProductServices-Cz4MygcK.js";import{A as le}from"./AnimatedContent-BfEynzY3.js";import"./iconBase-DFE9nSFk.js";import"./SelectLanguageTwo-B8pttvxA.js";import"./spinner-CkndCogW.js";import"./AdminServices-DOFZR09-.js";import"./CouponServices-0CD9yxjP.js";import"./CurrencyServices-BlJ4lGlV.js";import"./toast-DhrUUM-V.js";import"./useDisableForDemo-DjtHBIR8.js";import"./index.prod-xminSE24.js";import"./useTranslationValue-BxGSnvDP.js";import"./Tree-6vvdrwOw.js";import"./SwitchToggle-BXv17vg8.js";import"./browser-BYFnD1zY.js";import"./index-CP4Dvlba.js";const se=({notes:t,addNote:n,removeNote:d})=>e.jsxs("div",{className:"react-tag-input",children:[e.jsx("ul",{id:"tags",children:t.map((r,o)=>e.jsxs("li",{className:"react-tag-input__tag",children:[e.jsx("span",{className:"tag-title react-tag-input__tag__content",children:r}),e.jsx("span",{className:"react-tag-input__tag__remove",onClick:()=>d(o)})]},o))}),e.jsx("input",{name:"note",className:"react-tag-input__input",type:"text",onBlur:r=>n(r),onKeyDown:r=>r.key==="Enter"?n(r):null,placeholder:"Press enter to add variant"})]}),S=({id:t})=>{const{handleSubmit:n,onSubmit:d,register:r,errors:o,variants:x,addVariant:c,isSubmitting:m,removeVariant:i,handleSelectLanguage:s}=X(t),{t:a}=A();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:t?e.jsx(w,{register:r,handleSelectLanguage:s,title:a("UpdateAttribute"),description:a("UpdateAttributeDesc")}):e.jsx(w,{register:r,handleSelectLanguage:s,title:a("AddAttribute"),description:a("AddAttributeDesc")})}),e.jsxs(U.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:[e.jsxs("form",{onSubmit:n(d),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(h,{label:a("DrawerAttributeTitle")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(T,{required:!0,register:r,label:"Attribute Title",name:"title",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(N,{errorName:o.title})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(h,{label:a("DisplayName")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(T,{required:!0,register:r,label:"Display Name",name:"name",type:"text",placeholder:"Display Name"}),e.jsx(N,{errorName:o.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 relative",children:[e.jsx(h,{label:a("DrawerOptions")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4 ",children:[e.jsxs(l.Select,{name:"option",...r("option",{required:"Option is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:a("DrawerSelecttype")}),e.jsx("option",{value:"Dropdown",children:a("Dropdown")}),e.jsx("option",{value:"Radio",children:a("Radio")})]}),e.jsx(N,{errorName:o.option})]})]})]}),e.jsx(z,{id:t,title:"Attribute",isSubmitting:m})]}),e.jsx("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40 ",children:!t&&e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(h,{label:a("Variants")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(se,{notes:x,addNote:c,removeNote:i})})]})})]})]})},ae=({isCheck:t,setIsCheck:n,attributes:d})=>{const{title:r,serviceId:o,handleModalOpen:x,handleUpdate:c}=v(),{showingTranslateValue:m}=V(),i=s=>{const{id:a,checked:u}=s.target;n([...t,a]),u||n(t.filter(p=>p!==a))};return e.jsxs(e.Fragment,{children:[t.length<1&&e.jsx(C,{id:o,title:r}),t.length<2&&e.jsx(y,{children:e.jsx(S,{id:o})}),e.jsx(l.TableBody,{children:d==null?void 0:d.map(s=>{var a;return e.jsxs(l.TableRow,{children:[e.jsx(l.TableCell,{children:e.jsx(D,{type:"checkbox",name:"attribute",id:s._id,handleClick:i,isChecked:t==null?void 0:t.includes(s._id)})}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:(a=s==null?void 0:s._id)==null?void 0:a.substring(20,24)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:m(s.title)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:m(s.name)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:s.option}),e.jsx(l.TableCell,{className:"text-center",children:e.jsx(Q,{id:s._id,status:s.status})}),e.jsx(l.TableCell,{className:"flex justify-center",children:e.jsx(R,{to:`/attributes/${s._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:e.jsx(H,{id:"edit values",Icon:L,title:"Edit Values",bgColor:"#10B981"})})}),e.jsx(l.TableCell,{children:e.jsx(K,{id:s._id,isCheck:t,setIsCheck:n,handleUpdate:c,handleModalOpen:x,title:m(s.title)})})]},s._id)})})]})},He=()=>{const{toggleDrawer:t,lang:n}=f.useContext(I),{data:d,loading:r,error:o}=Y(()=>ee.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"})),{handleDeleteMany:x,allId:c,handleUpdateMany:m}=v(),{t:i}=A(),{filename:s,isDisabled:a,dataTable:u,serviceData:p,totalResults:_,attributeRef:te,resultsPerPage:k,handleSelectFile:re,handleChangePage:F,setAttributeTitle:ie,handleSubmitAttribute:B,handleUploadMultiple:oe,handleRemoveSelectFile:ne}=Z(d),[j,E]=f.useState(!1),[b,g]=f.useState([]),P=()=>{E(!j),g(d.map(M=>M._id)),j&&g([])};return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:i("Quản lý Attributes")}),e.jsx(C,{ids:c,setIsCheck:g,title:"Selected Attributes"}),e.jsx($,{ids:c,title:"Attributes"}),e.jsx(y,{children:e.jsx(S,{})}),e.jsx(le,{children:e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(l.CardBody,{children:e.jsxs("form",{onSubmit:B,className:"py-3 md:pb-0 grid gap-4 lg:gap-6 xl:gap-6 xl:flex",children:[e.jsx("div",{className:"flex-grow-0 sm:flex-grow md:flex-grow lg:flex-grow xl:flex-grow"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(l.Button,{disabled:b.length<1,onClick:()=>x(b),className:"w-full rounded-md h-12 bg-red-300 disabled btn-red",children:[e.jsx("span",{className:"mr-2",children:e.jsx(q,{})}),i("Xóa Attributes")]})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(l.Button,{onClick:t,className:"w-full rounded-md h-12",children:[e.jsx("span",{className:"mr-2",children:e.jsx(O,{})}),i("Thêm Attribute")]})})]})]})})})}),r?e.jsx(G,{row:12,col:6,width:180,height:20}):o?e.jsx("span",{className:"text-center mx-auto text-red-500",children:o}):(p==null?void 0:p.length)!==0?e.jsxs(l.TableContainer,{className:"mb-8",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:e.jsx(D,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:P,isChecked:j})}),e.jsxs(l.TableCell,{children:[" ",i("Id")," "]}),e.jsxs(l.TableCell,{children:[" ",i("AName")]}),e.jsxs(l.TableCell,{children:[" ",i("ADisplayName")]}),e.jsx(l.TableCell,{children:i("AOption")}),e.jsx(l.TableCell,{className:"text-center",children:i("catPublishedTbl")}),e.jsx(l.TableCell,{className:"text-center",children:i("Avalues")}),e.jsx(l.TableCell,{className:"text-right",children:i("AAction")})]})}),e.jsx(ae,{lang:n,isCheck:b,setIsCheck:g,attributes:u})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:_,resultsPerPage:k,onChange:F,label:"Table navigation"})})]}):e.jsx(J,{title:"Sorry, There are no attributes right now."})]})};export{He as default};
