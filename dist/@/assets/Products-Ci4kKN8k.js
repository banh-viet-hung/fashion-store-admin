import{j as e,f as s,t as se,k as ke,e as xe,v as Se,r as h,S as ae,o as ue,i as le}from"./index-PLDaagTA.js";import{i as Te,l as be,j as fe,k as Ie,u as Pe,f as Ve,g as De}from"./Layout-XD39IB8x.js";import{u as H}from"./useAsync-frAQ4t-E.js";import{u as je,T as de,D as Ue,M as Ae}from"./DrawerButton-DwQOXQlS.js";import"./exportFromJSON-fDIoOtpr.js";import{C as me,P as G}from"./ProductServices-Cz4MygcK.js";import{N as Fe}from"./NotFound-Z5WVCT-B.js";import{P as Re}from"./PageTitle-DoOTr-E6.js";import"./ProductDrawer-C2RDHxZ-.js";import{C as ye,E as ze}from"./EditDeleteButton-jztksUNk.js";import{D as Ne}from"./DeleteModal-BuBHmZHf.js";import"./index.prod-xminSE24.js";import{n as g,a as X}from"./toast-DhrUUM-V.js";import{T as Ee}from"./Tooltip-DmGlEDOP.js";import{M as Z}from"./Tree-6vvdrwOw.js";import{u as we,E as K}from"./index.esm-CS4zo5jb.js";import{L as z}from"./LabelArea-DC4hSjvs.js";import{S as Le,T as qe}from"./TableLoading-BIzq2BWk.js";import{A as Be,c as Oe}from"./browser-BYFnD1zY.js";import{u as Me}from"./useDisableForDemo-DjtHBIR8.js";import{A as Ge}from"./AnimatedContent-BfEynzY3.js";import"./iconBase-DFE9nSFk.js";import"./SelectLanguageTwo-B8pttvxA.js";import"./spinner-CkndCogW.js";import"./index-DSgUxwoz.js";import"./InputArea-iBDtlSiU.js";import"./InputValue-Dx3PMu3m.js";import"./useTranslationValue-BxGSnvDP.js";import"./Uploader-D0X8AV43.js";import"./_commonjs-dynamic-modules-LM44EJN2.js";import"./index-CP4Dvlba.js";import"./AdminServices-DOFZR09-.js";import"./CouponServices-0CD9yxjP.js";import"./CurrencyServices-BlJ4lGlV.js";const pe=l=>l==null?"0 VNĐ":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(l),$e=({products:l,isCheck:a,setIsCheck:c})=>{const{title:u,serviceId:I,handleModalOpen:p}=je(),y=n=>{const{id:d,checked:T}=n.target;c(f=>T?f.includes(d)?f:[...f,d]:f.filter(k=>k!==d))};return e.jsxs(e.Fragment,{children:[(a==null?void 0:a.length)<1&&e.jsx(Ne,{id:I,title:u}),e.jsx(s.TableBody,{children:l==null?void 0:l.map((n,d)=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx(ye,{type:"checkbox",name:n==null?void 0:n.name,id:String(n.id),handleClick:y,isChecked:a==null?void 0:a.includes(String(n.id))})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex items-center",children:[n!=null&&n.thumbnailUrl?e.jsx(s.Avatar,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",src:n==null?void 0:n.thumbnailUrl,alt:"product"}):e.jsx(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"}),e.jsx("div",{children:e.jsx("h2",{className:"text-sm font-medium",children:n==null?void 0:n.name})})]})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm font-semibold",children:pe(n==null?void 0:n.price)})}),e.jsx(s.TableCell,{children:n.salePrice>0?e.jsx("span",{className:"text-sm font-semibold",children:pe(n==null?void 0:n.salePrice)}):e.jsx("span",{className:"text-sm font-semibold",children:se("Không khuyến mãi")})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:n.quantity})}),e.jsx(s.TableCell,{children:n.quantity>0?e.jsx(s.Badge,{type:"success",children:se("Selling")}):e.jsx(s.Badge,{type:"danger",children:se("SoldOut")})}),e.jsx(s.TableCell,{children:e.jsx(ke,{to:`/product/${n.id}`,className:"flex justify-center text-gray-400 hover:text-emerald-600",children:e.jsx(Ee,{id:"view",Icon:Te,title:se("DetailsTbl"),bgColor:"#10B981"})})}),e.jsx(s.TableCell,{children:e.jsx(ze,{id:n.id,product:n,isCheck:a,handleModalOpen:p,title:n==null?void 0:n.name})})]},d+1))})]})},ve={getAllColors:async()=>(await xe.get("/color"))._embedded.color},Ce={getAllSizes:async()=>(await xe.get("/size"))._embedded.size},_e="ml_default",Je="https://api.cloudinary.com/v1_1/doo4qviqi/image/upload",ge={uploadImage:async l=>{try{const a=new FormData;return a.append("file",l),a.append("upload_preset",_e),(await Se.post(Je,a)).data.secure_url}catch(a){throw console.error("Lỗi khi upload ảnh lên Cloudinary:",a),new Error("Không thể tải ảnh lên. Vui lòng thử lại.")}},uploadMultipleImages:async l=>{try{const a=l.map(c=>ge.uploadImage(c));return await Promise.all(a)}catch(a){throw console.error("Lỗi khi upload nhiều ảnh lên Cloudinary:",a),new Error("Không thể tải các ảnh lên. Vui lòng thử lại.")}}},Ke=()=>{const{closeDrawer:l,setIsUpdate:a}=h.useContext(ae),[c,u]=h.useState([]),[I,p]=h.useState(!1),[y,n]=h.useState([]),[d,T]=h.useState([]),[f,k]=h.useState([]),[q,L]=h.useState("basic"),[F,P]=h.useState([]),[B,M]=h.useState(null),{register:w,handleSubmit:S,formState:{errors:j},reset:x,getValues:N}=we(),{data:C}=H(me.getAllCategories),{data:V}=H(ve.getAllColors),{data:v}=H(Ce.getAllSizes),i=()=>{if(d.length===0&&f.length===0)return[{colorName:null,sizeName:null,quantity:0}];if(d.length>0&&f.length===0)return d.map(A=>({colorName:A.name,sizeName:null,quantity:0}));if(d.length===0&&f.length>0)return f.map(A=>({colorName:null,sizeName:A.name,quantity:0}));const o=[];for(const A of d)for(const U of f)o.push({colorName:A.name,sizeName:U.name,quantity:0});return o};h.useEffect(()=>{P(i())},[d,f]);const D=(o,A)=>{const U=[...F];U[o].quantity=Number(A),P(U)},$=()=>F.filter(U=>U.quantity<0).length>0?!1:F.reduce((U,E)=>U+Number(E.quantity||0),0)>0,J=async o=>{var A,U;try{if(p(!0),c.length===0)return p(!1),g("Vui lòng chọn ít nhất 1 hình ảnh!");if(y.length===0)return p(!1),g("Vui lòng chọn ít nhất một danh mục!");if(Number(o.salePrice)>Number(o.price))return p(!1),g("Giá khuyến mãi phải nhỏ hơn hoặc bằng giá gốc!");if(!$())return p(!1),g("Vui lòng nhập số lượng hợp lệ cho các biến thể sản phẩm!");const E={name:o.name,description:o.description,price:Number(o.price),salePrice:Number(o.salePrice),categorySlugs:y.map(r=>r.slug),colorNames:d.map(r=>r.name),sizeNames:f.map(r=>r.name)},ee=await G.addProduct(E);if(ee.success){const r=ee.data;M(r);try{const m=c.map(R=>R.file),t=await ge.uploadMultipleImages(m);console.log("Danh sách URL từ Cloudinary:",t);const b={imageUrls:t};await G.addProductImages(r,b);const O={variants:F};await G.addProductVariants(r,O),X("Tạo sản phẩm thành công!"),a(!0),x(),u([]),n([]),T([]),k([]),P([]),L("basic"),l()}catch(m){console.error("Lỗi khi xử lý ảnh hoặc variants:",m),g("Tạo sản phẩm thành công nhưng có lỗi xảy ra. Vui lòng kiểm tra lại!")}}else g(ee.message||"Có lỗi xảy ra khi tạo sản phẩm!")}catch(E){console.error(E),g(((U=(A=E==null?void 0:E.response)==null?void 0:A.data)==null?void 0:U.message)||(E==null?void 0:E.message)||"Có lỗi xảy ra!")}finally{p(!1)}},Y=o=>{const A=Array.from(o).map(U=>({file:U,preview:URL.createObjectURL(U)}));if(c.length+A.length>6)return g("Chỉ được tải lên tối đa 6 hình ảnh!");u(U=>[...U,...A])},Q=o=>{URL.revokeObjectURL(c[o].preview),u(A=>A.filter((U,E)=>E!==o))},te=o=>{n(o)},re=o=>{T(o)},ne=o=>{k(o)},ie=o=>{L(o)},oe=()=>{const o=N();if(!o.name)return g("Vui lòng nhập tên sản phẩm!");if(!o.price||o.price<1e3)return g("Vui lòng nhập giá gốc hợp lệ (ít nhất 1.000)!");if(!o.salePrice||o.salePrice<0)return g("Vui lòng nhập giá khuyến mãi hợp lệ!");if(Number(o.salePrice)>Number(o.price))return g("Giá khuyến mãi phải nhỏ hơn hoặc bằng giá gốc!");if(y.length===0)return g("Vui lòng chọn ít nhất một danh mục!");if(c.length===0)return g("Vui lòng chọn ít nhất 1 hình ảnh!");L("variants")};return h.useEffect(()=>()=>{c.forEach(o=>{o.preview&&URL.revokeObjectURL(o.preview)})},[]),{register:w,handleSubmit:S,onSubmit:J,errors:j,isSubmitting:I,categories:C,colors:V,sizes:v,selectedCategories:y,selectedColors:d,selectedSizes:f,handleCategoryChange:te,handleColorChange:re,handleSizeChange:ne,imageUrls:c,handleImageUpload:Y,removeImage:Q,activeTab:q,handleTabChange:ie,productVariants:F,updateVariantQuantity:D,handleContinueToVariants:oe}},He=()=>{const{t:l}=le(),{register:a,handleSubmit:c,onSubmit:u,errors:I,isSubmitting:p,categories:y,colors:n,sizes:d,selectedCategories:T,selectedColors:f,selectedSizes:k,handleCategoryChange:q,handleColorChange:L,handleSizeChange:F,imageUrls:P,handleImageUpload:B,removeImage:M,activeTab:w,handleTabChange:S,productVariants:j,updateVariantQuantity:x,handleContinueToVariants:N}=Ke();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(de,{title:l("Thêm sản phẩm mới"),description:l("Điền các thông tin để tạo sản phẩm mới")})}),e.jsx("div",{className:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-700",children:e.jsxs("ul",{className:"flex flex-wrap -mb-px",children:[e.jsx("li",{className:"mr-2",children:e.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),S("basic")},className:`inline-block p-4 rounded-t-lg ${w==="basic"?"text-emerald-600 border-b-2 border-emerald-600 active":"border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300"}`,children:l("Thông tin cơ bản")})}),e.jsx("li",{className:"mr-2",children:e.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),N()},className:`inline-block p-4 rounded-t-lg ${w==="variants"?"text-emerald-600 border-b-2 border-emerald-600 active":"border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300"}`,children:l("Kho hàng")})})]})}),e.jsx(be.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:c(u),className:"block",children:[w==="basic"&&e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Tên sản phẩm")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...a("name",{required:"Tên sản phẩm là bắt buộc!"}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"name",type:"text",placeholder:l("Nhập tên sản phẩm")}),e.jsx(K,{errorName:I.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Mô tả sản phẩm")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...a("description"),name:"description",placeholder:l("Mô tả chi tiết sản phẩm"),rows:"4",spellCheck:"false"}),e.jsx(K,{errorName:I.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Giá gốc")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...a("price",{required:"Giá gốc là bắt buộc!",min:{value:1e3,message:"Giá gốc phải từ 1.000 trở lên!"}}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"price",type:"number",placeholder:l("Nhập giá gốc")}),e.jsx(K,{errorName:I.price})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Giá khuyến mãi")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...a("salePrice",{required:"Giá khuyến mãi là bắt buộc!",min:{value:0,message:"Giá khuyến mãi phải từ 0 trở lên!"}}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"salePrice",type:"number",placeholder:l("Nhập giá khuyến mãi")}),e.jsx(K,{errorName:I.salePrice})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Danh mục")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:y||[],displayValue:"name",onSelect:q,onRemove:q,selectedValues:T,placeholder:l("Chọn danh mục sản phẩm")})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Màu sắc (Tùy chọn)")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:n||[],displayValue:"name",onSelect:L,onRemove:L,selectedValues:f,placeholder:l("Chọn màu sắc sản phẩm"),customCloseIcon:e.jsx(e.Fragment,{}),style:{chips:{background:"#059669"},optionContainer:{border:"1px solid #e9e9e9"}}})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Kích thước (Tùy chọn)")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:d||[],displayValue:"name",onSelect:F,onRemove:F,selectedValues:k,placeholder:l("Chọn kích thước sản phẩm"),customCloseIcon:e.jsx(e.Fragment,{}),style:{chips:{background:"#059669"},optionContainer:{border:"1px solid #e9e9e9"}}})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:l("Hình ảnh sản phẩm")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("div",{className:"w-full text-center",children:[e.jsxs("div",{className:"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6",onClick:()=>document.getElementById("fileInput").click(),children:[e.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*,.jpeg,.jpg,.png,.gif,.webp",className:"hidden",onChange:C=>B(C.target.files)}),e.jsx("span",{className:"mx-auto flex justify-center",children:e.jsxs("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:"text-3xl text-emerald-500",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("polyline",{points:"16 16 12 12 8 16"}),e.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),e.jsx("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),e.jsx("polyline",{points:"16 16 12 12 8 16"})]})}),e.jsx("p",{className:"text-sm mt-2",children:l("Kéo thả hình ảnh hoặc click để chọn")}),e.jsx("em",{className:"text-xs text-gray-400",children:l("(Hỗ trợ định dạng: jpeg, jpg, png, gif, webp. Tối đa 6 hình)")})]}),P.length>0&&e.jsx("aside",{className:"flex flex-row flex-wrap mt-4",children:P.map((C,V)=>e.jsxs("div",{className:"relative w-24 h-24 mr-2 mb-2 border rounded-md overflow-hidden",children:[e.jsx("img",{src:C.preview,alt:`preview ${V}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 text-xs",onClick:()=>M(V),children:e.jsx(fe,{})})]},V))})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(s.Button,{onClick:N,className:"h-12 px-6",children:[l("Tiếp tục")," ",e.jsx(Ie,{className:"ml-2"})]})})]}),w==="variants"&&e.jsx("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:l("Số lượng theo biến thể")}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:f.length===0&&k.length===0?l("Nhập tổng số lượng sản phẩm"):l("Nhập số lượng cho từng biến thể của sản phẩm")}),e.jsxs(s.Table,{className:"w-full whitespace-nowrap",children:[e.jsx(s.TableHeader,{children:e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:l("STT")}),e.jsx(s.TableCell,{children:l("Màu sắc")}),e.jsx(s.TableCell,{children:l("Kích thước")}),e.jsx(s.TableCell,{children:l("Số lượng")})]})}),e.jsx(s.TableBody,{children:j.map((C,V)=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:V+1})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:C.colorName||"N/A"})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:C.sizeName||"N/A"})}),e.jsx(s.TableCell,{children:e.jsx(s.Input,{className:"border h-10 text-sm focus:outline-none block w-24 bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",type:"number",min:"0",value:C.quantity,onChange:v=>x(V,v.target.value),placeholder:"0"})})]},V))})]}),e.jsx("div",{className:"flex justify-between mt-8",children:e.jsx(s.Button,{layout:"outline",onClick:()=>S("basic"),className:"h-12 px-6",children:l("Quay lại")})})]})}),e.jsx(Ue,{title:"Sản phẩm",isSubmitting:p})]})})]})},Qe=ue.memo(He),We=l=>{const{closeDrawer:a,setIsUpdate:c}=h.useContext(ae),[u,I]=h.useState([]),[p,y]=h.useState(!1),[n,d]=h.useState([]),[T,f]=h.useState([]),[k,q]=h.useState([]),[L,F]=h.useState("basic"),[P,B]=h.useState([]),[M,w]=h.useState([]),[S,j]=h.useState(!0),{register:x,handleSubmit:N,formState:{errors:C},reset:V,getValues:v,setValue:i}=we(),{data:D}=H(me.getAllCategories),{data:$}=H(ve.getAllColors),{data:J}=H(Ce.getAllSizes);h.useEffect(()=>{l&&(async()=>{try{j(!0);const m=await G.getProductById(l);if(m.success){const t=m.data;if(i("name",t.name),i("description",t.description),i("price",t.price),i("salePrice",t.salePrice),D){const R=D.filter(W=>t.categorySlugs.includes(W.slug));d(R)}if($){const R=$.filter(W=>t.colorNames.includes(W.name));f(R)}if(J){const R=J.filter(W=>t.sizeNames.includes(W.name));q(R)}B(t.variants||[]);const b=await G.getProductImages(l);w(b);const O=b.map(R=>({url:R.url,id:R.id,isExisting:!0}));I(O)}}catch(m){console.error("Error fetching product data:",m),g("Không thể tải dữ liệu sản phẩm. Vui lòng thử lại!")}finally{j(!1)}})()},[l,D,$,J,i]),h.useEffect(()=>{S||Y()},[T,k,S]);const Y=()=>{const r={};P.forEach(t=>{const b=`${t.colorName||"null"}-${t.sizeName||"null"}`;r[b]=t.quantity});let m=[];if(T.length===0&&k.length===0)m=[{colorName:null,sizeName:null,quantity:r["null-null"]||0}];else if(T.length>0&&k.length===0)m=T.map(t=>({colorName:t.name,sizeName:null,quantity:r[`${t.name}-null`]||0}));else if(T.length===0&&k.length>0)m=k.map(t=>({colorName:null,sizeName:t.name,quantity:r[`null-${t.name}`]||0}));else{m=[];for(const t of T)for(const b of k){const O=`${t.name}-${b.name}`;m.push({colorName:t.name,sizeName:b.name,quantity:r[O]||0})}}B(m)},Q=(r,m)=>{const t=[...P];t[r].quantity=Number(m),B(t)},te=()=>P.filter(t=>t.quantity<0).length>0?!1:P.reduce((t,b)=>t+Number(b.quantity||0),0)>0,re=async r=>{var m,t;try{if(y(!0),n.length===0)return y(!1),g("Vui lòng chọn ít nhất một danh mục!");if(Number(r.salePrice)>Number(r.price))return y(!1),g("Giá khuyến mãi phải nhỏ hơn hoặc bằng giá gốc!");const b={name:r.name,description:r.description,price:Number(r.price),salePrice:Number(r.salePrice),categorySlugs:n.map(R=>R.slug),colorNames:T.map(R=>R.name),sizeNames:k.map(R=>R.name)},O=await G.updateProduct(l,b);O.success?(X("Cập nhật thông tin sản phẩm thành công!"),c(!0)):g(O.message||"Có lỗi xảy ra khi cập nhật thông tin sản phẩm!")}catch(b){console.error(b),g(((t=(m=b==null?void 0:b.response)==null?void 0:m.data)==null?void 0:t.message)||(b==null?void 0:b.message)||"Có lỗi xảy ra!")}finally{y(!1)}},ne=async()=>{var r,m;try{if(y(!0),u.length===0)return y(!1),g("Vui lòng chọn ít nhất 1 hình ảnh!");const t=u.filter(_=>_.isExisting),b=u.filter(_=>!_.isExisting);let O=[];if(b.length>0){const _=b.map(ce=>ce.file);O=await ge.uploadMultipleImages(_)}const W={imageUrls:[...t.map(_=>_.url),...O]},he=await G.updateProductImages(l,W);if(he.success){X("Cập nhật hình ảnh sản phẩm thành công!"),c(!0);const _=O.map(ce=>({url:ce,isExisting:!0}));I([...t,..._])}else g(he.message||"Có lỗi xảy ra khi cập nhật hình ảnh sản phẩm!")}catch(t){console.error(t),g(((m=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:m.message)||(t==null?void 0:t.message)||"Có lỗi xảy ra!")}finally{y(!1)}},ie=async()=>{var r,m;try{if(y(!0),!te())return y(!1),g("Vui lòng nhập số lượng hợp lệ cho các biến thể sản phẩm!");const t={variants:P},b=await G.updateProductVariants(l,t);b.success?(X("Cập nhật số lượng biến thể sản phẩm thành công!"),c(!0)):g(b.message||"Có lỗi xảy ra khi cập nhật số lượng sản phẩm!")}catch(t){console.error(t),g(((m=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:m.message)||(t==null?void 0:t.message)||"Có lỗi xảy ra!")}finally{y(!1)}},oe=r=>{const m=Array.from(r).map(t=>({file:t,preview:URL.createObjectURL(t),isExisting:!1}));if(u.length+m.length>6)return g("Chỉ được tải lên tối đa 6 hình ảnh!");I(t=>[...t,...m])},o=r=>{!u[r].isExisting&&u[r].preview&&URL.revokeObjectURL(u[r].preview),I(m=>m.filter((t,b)=>b!==r))},A=r=>{d(r)},U=r=>{f(r)},E=r=>{q(r)},ee=r=>{F(r)};return h.useEffect(()=>()=>{u.forEach(r=>{!r.isExisting&&r.preview&&URL.revokeObjectURL(r.preview)})},[]),{register:x,handleSubmit:N,onSubmitBasicInfo:re,onUpdateImages:ne,onUpdateVariants:ie,errors:C,isSubmitting:p,loading:S,categories:D,colors:$,sizes:J,selectedCategories:n,selectedColors:T,selectedSizes:k,handleCategoryChange:A,handleColorChange:U,handleSizeChange:E,imageUrls:u,handleImageUpload:oe,removeImage:o,activeTab:L,handleTabChange:ee,productVariants:P,updateVariantQuantity:Q}},Ye=({id:l})=>{const{t:a}=le(),{register:c,handleSubmit:u,onSubmitBasicInfo:I,onUpdateImages:p,onUpdateVariants:y,errors:n,isSubmitting:d,loading:T,categories:f,colors:k,sizes:q,selectedCategories:L,selectedColors:F,selectedSizes:P,handleCategoryChange:B,handleColorChange:M,handleSizeChange:w,imageUrls:S,handleImageUpload:j,removeImage:x,activeTab:N,handleTabChange:C,productVariants:V,updateVariantQuantity:v}=We(l);return T?e.jsxs("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[e.jsx(de,{title:a("Chỉnh sửa sản phẩm"),description:a("Đang tải thông tin sản phẩm...")}),e.jsx("div",{className:"w-full p-5",children:e.jsx(Le,{height:40,count:5,className:"my-2"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(de,{title:a("Chỉnh sửa sản phẩm"),description:a("Cập nhật thông tin sản phẩm")})}),e.jsx("div",{className:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-700",children:e.jsxs("ul",{className:"flex flex-wrap -mb-px",children:[e.jsx("li",{className:"mr-2",children:e.jsx("a",{href:"#",onClick:i=>{i.preventDefault(),C("basic")},className:`inline-block p-4 rounded-t-lg ${N==="basic"?"text-emerald-600 border-b-2 border-emerald-600 active":"border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300"}`,children:a("Thông tin cơ bản")})}),e.jsx("li",{className:"mr-2",children:e.jsx("a",{href:"#",onClick:i=>{i.preventDefault(),C("images")},className:`inline-block p-4 rounded-t-lg ${N==="images"?"text-emerald-600 border-b-2 border-emerald-600 active":"border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300"}`,children:a("Hình ảnh")})}),e.jsx("li",{className:"mr-2",children:e.jsx("a",{href:"#",onClick:i=>{i.preventDefault(),C("variants")},className:`inline-block p-4 rounded-t-lg ${N==="variants"?"text-emerald-600 border-b-2 border-emerald-600 active":"border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300"}`,children:a("Kho hàng")})})]})}),e.jsxs(be.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:[N==="basic"&&e.jsxs("form",{onSubmit:u(I),className:"block",children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Tên sản phẩm")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...c("name",{required:"Tên sản phẩm là bắt buộc!"}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"name",type:"text",placeholder:a("Nhập tên sản phẩm")}),e.jsx(K,{errorName:n.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Mô tả sản phẩm")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...c("description"),name:"description",placeholder:a("Mô tả chi tiết sản phẩm"),rows:"4",spellCheck:"false"}),e.jsx(K,{errorName:n.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Giá gốc")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...c("price",{required:"Giá gốc là bắt buộc!",min:{value:1e3,message:"Giá gốc phải từ 1.000 trở lên!"}}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"price",type:"number",placeholder:a("Nhập giá gốc")}),e.jsx(K,{errorName:n.price})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Giá khuyến mãi")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...c("salePrice",{required:"Giá khuyến mãi là bắt buộc!",min:{value:0,message:"Giá khuyến mãi phải từ 0 trở lên!"}}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",name:"salePrice",type:"number",placeholder:a("Nhập giá khuyến mãi")}),e.jsx(K,{errorName:n.salePrice})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Danh mục")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:f||[],displayValue:"name",onSelect:B,onRemove:B,selectedValues:L,placeholder:a("Chọn danh mục sản phẩm")})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Màu sắc (Tùy chọn)")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:k||[],displayValue:"name",onSelect:M,onRemove:M,selectedValues:F,placeholder:a("Chọn màu sắc sản phẩm"),customCloseIcon:e.jsx(e.Fragment,{}),style:{chips:{background:"#059669"},optionContainer:{border:"1px solid #e9e9e9"}}})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Kích thước (Tùy chọn)")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(Z,{options:q||[],displayValue:"name",onSelect:w,onRemove:w,selectedValues:P,placeholder:a("Chọn kích thước sản phẩm"),customCloseIcon:e.jsx(e.Fragment,{}),style:{chips:{background:"#059669"},optionContainer:{border:"1px solid #e9e9e9"}}})})]})]}),e.jsx("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Button,{type:"submit",className:"h-12 bg-emerald-700 text-white w-full",disabled:d,children:a(d?"Đang lưu...":"Cập nhật thông tin")})})})]}),N==="images"&&e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(z,{label:a("Hình ảnh sản phẩm")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("div",{className:"w-full text-center",children:[e.jsxs("div",{className:"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6",onClick:()=>document.getElementById("fileInput").click(),children:[e.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*,.jpeg,.jpg,.png,.gif,.webp",className:"hidden",onChange:i=>j(i.target.files)}),e.jsx("span",{className:"mx-auto flex justify-center",children:e.jsxs("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:"text-3xl text-emerald-500",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("polyline",{points:"16 16 12 12 8 16"}),e.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),e.jsx("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),e.jsx("polyline",{points:"16 16 12 12 8 16"})]})}),e.jsx("p",{className:"text-sm mt-2",children:a("Kéo thả hình ảnh hoặc click để chọn")}),e.jsx("em",{className:"text-xs text-gray-400",children:a("(Hỗ trợ định dạng: jpeg, jpg, png, gif, webp. Tối đa 6 hình)")})]}),S.length>0&&e.jsx("aside",{className:"flex flex-row flex-wrap mt-4",children:S.map((i,D)=>e.jsxs("div",{className:"relative w-24 h-24 mr-2 mb-2 border rounded-md overflow-hidden",children:[e.jsx("img",{src:i.isExisting?i.url:i.preview,alt:`preview ${D}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 text-xs",onClick:()=>x(D),children:e.jsx(fe,{})})]},D))})]})})]}),e.jsx("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Button,{onClick:p,className:"h-12 bg-emerald-700 text-white w-full",disabled:d,children:a(d?"Đang lưu...":"Cập nhật hình ảnh")})})})]}),N==="variants"&&e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("Số lượng theo biến thể")}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:F.length===0&&P.length===0?a("Nhập tổng số lượng sản phẩm"):a("Nhập số lượng cho từng biến thể của sản phẩm")}),e.jsxs(s.Table,{className:"w-full whitespace-nowrap",children:[e.jsx(s.TableHeader,{children:e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:a("STT")}),e.jsx(s.TableCell,{children:a("Màu sắc")}),e.jsx(s.TableCell,{children:a("Kích thước")}),e.jsx(s.TableCell,{children:a("Số lượng")})]})}),e.jsx(s.TableBody,{children:V.map((i,D)=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:D+1})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:i.colorName||"N/A"})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:i.sizeName||"N/A"})}),e.jsx(s.TableCell,{children:e.jsx(s.Input,{className:"border h-10 text-sm focus:outline-none block w-24 bg-gray-100 dark:bg-gray-700 border-transparent focus:bg-white",type:"number",min:"0",value:i.quantity,onChange:$=>v(D,$.target.value),placeholder:"0"})})]},D))})]})]}),e.jsx("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Button,{onClick:y,className:"h-12 bg-emerald-700 text-white w-full",disabled:d,children:a(d?"Đang lưu...":"Cập nhật số lượng")})})})]})]})]})},Xe=ue.memo(Ye),Ze={type:"object",properties:{categories:{type:"array"},image:{type:"array"},tag:{type:"array"},variants:{type:"array"},show:{type:"array"},status:{type:"string"},prices:{type:"object"},isCombination:{type:"boolean"},title:{type:"object"},productId:{type:"string"},slug:{type:"string"},category:{type:"object"},stock:{type:"number"},description:{type:"object"}},required:["categories","category","prices","title"]},es=l=>{const a=new Be({allErrors:!0}),{setLoading:c,setIsUpdate:u}=h.useContext(ae),[I]=h.useState([]),[p,y]=h.useState([]),[n,d]=h.useState(""),[T,f]=h.useState(!1),{handleDisableForDemo:k}=Me();return{data:l,filename:n,isDisabled:T,handleSelectFile:async w=>{var x;w.preventDefault();const S=new FileReader,j=(x=w.target)==null?void 0:x.files[0];j&&j.type==="application/json"?(d(j==null?void 0:j.name),f(!0),S.readAsText(j,"UTF-8"),S.onload=N=>{const V=JSON.parse(N.target.result).map(v=>({categories:v.categories,image:v.image,barcode:v.barcode,tag:v.tag,variants:v.variants,status:v.status,prices:v.prices,isCombination:JSON.parse(v.isCombination.toLowerCase()),title:v.title,productId:v.productId,slug:v.slug,sku:v.sku,category:v.category,stock:v.stock,description:v.description}));y(V)}):j&&j.type==="text/csv"?(d(j==null?void 0:j.name),f(!0),S.onload=async N=>{const C=N.target.result,v=(await Oe().fromString(C)).map(i=>({categories:JSON.parse(i.categories),image:JSON.parse(i.image),barcode:i.barcode,tag:JSON.parse(i.tag),variants:JSON.parse(i.variants),status:i.status,prices:JSON.parse(i.prices),isCombination:JSON.parse(i.isCombination.toLowerCase()),title:JSON.parse(i.title),productId:i.productId,slug:i.slug,sku:i.sku,category:JSON.parse(i.category),stock:JSON.parse(i.stock),description:JSON.parse(i.description)}));y(v)},S.readAsText(j)):(d(j==null?void 0:j.name),f(!0),g("Unsupported file type!"))},serviceData:l,handleOnDrop:w=>{for(let S=0;S<w.length;S++)I.push(w[S].data)},handleUploadProducts:()=>{if(!k())if(I.length<1)g("Please upload/select csv file first!");else{if(k())return;G.addAllProducts(I).then(w=>{X(w.message)}).catch(w=>g(w.message))}},handleRemoveSelectFile:w=>{d(""),y([]),setTimeout(()=>f(!1),1e3)},handleUploadMultiple:w=>{if(!k())if(p.length>1){c(!0);let S=p.map(N=>a.validate(Ze,N));const j=N=>N===!0;S.every(j)?G.addAllProducts(p).then(N=>{u(!0),c(!1),X(N.message)}).catch(N=>{c(!1),g(N.message)}):(c(!1),g("Please enter valid data!"))}else c(!1),g("Please select a valid json, csv & xls file first!")}}},ss=({setCategory:l})=>{const{t:a}=le(),{data:c}=H(me.getAllCategories);return Pe(),console.log("data",c),e.jsx(e.Fragment,{children:e.jsxs(s.Select,{onChange:u=>l(u.target.value),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:a("Danh mục")}),c==null?void 0:c.map(u=>e.jsx("option",{value:u.slug,children:u.name},u.id))]})})},zs=()=>{var Y;const{title:l,allId:a,serviceId:c,handleDeleteMany:u,handleUpdateMany:I}=je(),{t:p}=le(),{toggleDrawer:y,lang:n,currentPage:d,handleChangePage:T,searchText:f,setSearchText:k,category:q,setCategory:L,searchRef:F,handleSubmitForAll:P,sortedField:B,setSortedField:M,limitData:w,drawerType:S,productId:j}=h.useContext(ae),{data:x,loading:N,error:C}=H(()=>G.getAllProducts({page:d,limit:w,category:q,title:f,status:B})),[V,v]=h.useState(!1),[i,D]=h.useState([]),$=()=>{v(!V),D(x==null?void 0:x.content.map(Q=>String(Q.id))),V&&D([])},J=()=>{L(""),M(""),F.current.value="",k("")};return es(x==null?void 0:x.content),e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:p("Quản lý sản phẩm")}),e.jsx(Ne,{ids:a,setIsCheck:D,title:l}),e.jsx(Ae,{children:S==="edit"?e.jsx(Xe,{id:j}):e.jsx(Qe,{})}),e.jsxs(Ge,{children:[e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(s.CardBody,{className:"",children:e.jsxs("form",{onSubmit:P,className:"py-3 md:pb-0 grid gap-4 lg:gap-6 xl:gap-6 xl:flex",children:[e.jsx("div",{className:"flex-grow-0 sm:flex-grow md:flex-grow lg:flex-grow xl:flex-grow"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(s.Button,{disabled:(i==null?void 0:i.length)<1,onClick:()=>u(i,x==null?void 0:x.content),className:"w-full rounded-md h-12 bg-red-300 disabled btn-red",children:[e.jsx("span",{className:"mr-2",children:e.jsx(Ve,{})}),p("Xóa sản phẩm")]})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(s.Button,{onClick:y,className:"w-full rounded-md h-12",children:[e.jsx("span",{className:"mr-2",children:e.jsx(De,{})}),p("Thêm sản phẩm")]})})]})]})})}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsx(s.CardBody,{children:e.jsxs("form",{onSubmit:P,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:[e.jsxs("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[e.jsx(s.Input,{ref:F,type:"search",name:"search",placeholder:"Nhập tên sản phẩm"}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-1"})]}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(ss,{setCategory:L,lang:n})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(s.Select,{onChange:Q=>M(Q.target.value),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:p("Tình trạng")}),e.jsx("option",{value:"con_hang",children:p("Còn hàng")}),e.jsx("option",{value:"het_hang",children:p("Hết hàng")})]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[e.jsx("div",{className:"w-full mx-1",children:e.jsx(s.Button,{type:"submit",className:"h-12 w-full bg-emerald-700",children:"Áp dụng"})}),e.jsx("div",{className:"w-full mx-1",children:e.jsx(s.Button,{layout:"outline",onClick:J,type:"reset",className:"px-4 md:py-1 py-2 h-12 text-sm dark:bg-gray-700",children:e.jsx("span",{className:"text-black dark:text-gray-200",children:"Hoàn tác"})})})]})]})})})]}),N?e.jsx(qe,{row:12,col:7,width:160,height:20}):C?e.jsx("span",{className:"text-center mx-auto text-red-500",children:C}):((Y=x==null?void 0:x.content)==null?void 0:Y.length)!==0?e.jsxs(s.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:e.jsx(ye,{type:"checkbox",name:"selectAll",id:"selectAll",isChecked:V,handleClick:$})}),e.jsx(s.TableCell,{children:p("Tên sản phẩm")}),e.jsx(s.TableCell,{children:p("Giá gốc")}),e.jsx(s.TableCell,{children:"Giá khuyến mãi"}),e.jsx(s.TableCell,{children:p("Số lượng")}),e.jsx(s.TableCell,{children:p("Trạng thái")}),e.jsx(s.TableCell,{className:"text-center",children:p("View")}),e.jsx(s.TableCell,{className:"text-right",children:p("Hành động")})]})}),e.jsx($e,{lang:n,isCheck:i,products:x==null?void 0:x.content,setIsCheck:D})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:x==null?void 0:x.totalElements,resultsPerPage:w,onChange:T,label:"Product Page Navigation"})})]}):e.jsx(Fe,{title:"Product"})]})};export{zs as default};
